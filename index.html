<!doctype html>
<html lang="en" ng-app="Products">
<head>
	<title>Refactor Me</title>

	<script type="text/javascript" src="src/do-not-refactor/LawnmowerRepository.js"></script>
	<script type="text/javascript" src="src/do-not-refactor/PhoneCaseRepository.js"></script>
	<script type="text/javascript" src="src/do-not-refactor/TShirtRepository.js"></script>

        <script type="text/javascript" src="src/refactor-me/ProductDataConsolidator.js"></script>
        
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
        <script src="src/refactor-me/controllers.js"></script>
        
        <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
        <link href="src/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <script src="src/bootstrap/bootstrap.min.js" type="text/javascript"></script>
        
        <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        -->
</head>
<body ng-controller="ListCtrl">

    <section id="main" style="max-width: 900px; margin: 50px;">
        
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <td colspan="3"><strong>Products</strong></td></tr>
                    <tr class="info">
                        <td style="width: 50%;">Name</td>
                        <td>
                            
                            <div class="btn-group">
                                <button type="button" class="btn btn-default btn-warning dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Price in {{cur.toUpperCase();}} <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li ng-click="setCur('nzd')"><a href="#">NZD</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li ng-click="setCur('usd')"><a href="#">USD</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li ng-click="setCur('euro')"><a href="#">EURO</a></li>
                                </ul>
                            </div>
                                                        
                        </td>
                        <td style="width: 25%;">
                        
                            <div class="btn-group" >
                                <button type="button" class="btn btn-default btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Sort by <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li ng-click="setSort('name')"><a href="#">Name</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li ng-click="setSort('type')"><a href="#">Type</a></li>
                                </ul>
                            </div>
                            
                        </td>
                    </tr>
		</thead>
                <tbody>
                    
                    <tr ng-repeat="item in items | orderBy:sort">
                        <td>{{item.name}}</td>
                        <td>{{item.price.showIn(cur)}}</td>
                        <td>{{item.type}}</td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
    </section>

</body>
</html>